/**
 * abaaso.tabs
 *
 * @author Jason Mulligan <jason.mulligan@avoidwork.com>
 * @copyright Jason Mulligan 2012
 * @license BSD-3 <http://opensource.org/licenses/BSD-3-Clause>
 * @link https://github.com/avoidwork/abaaso.tabs
 * @module abaaso.tabs
 * @version 1.4.3
 */
(function(e){var t,n=function(e){var n=e.explode("/"),r=[],i="",s,o;return t(".tab .active").removeClass("active"),t(".tab").addClass("hidden"),t(".root").removeClass("hidden"),n.first()==="#!"&&n.shift(),n.each(function(e){s='a[data-hash="'+e+'"]',o='.tab[data-hash="'+e+'"]',s=(i!==""?'ul.active[data-hash="'+i+'"] ':".root ")+s,o=(i!==""?'.tab[data-hash="'+i+'"] ':".root ")+o,t(s).addClass("active"),t(o).addClass("active").removeClass("hidden"),i=e}),t(s+" section.active > section.tab:first-child").addClass("active"),t(o+" section.active > section.tab:first-child").addClass("active").removeClass("hidden"),i.isEmpty()||t('section[data-hash="'+n.join("/")+'"]').addClass("active").removeClass("hidden"),r},r=function(e,n,r,i,s){var o=/function|string/,u,a,f,l,c,h,p,d;r instanceof Object?r["class"]="tab":r={"class":"tab"},i=typeof i=="undefined"?"":i,c=n instanceof Array,u=e.find(" > ul.tab").length>0?e.find(" > ul.tab")[0]:e.create("ul",r),h=e.find(" > section.tab").length>0?e.find(" > section.tab")[0]:e.create("section",{"class":"tab"}),s=typeof s=="undefined"||s===!0,e.hasClass("tab")&&(i="/"+e.data("hash"));switch(!0){case!i.isEmpty():d=i.replace(/^\/{1,1}/,""),u.data("hash",d),h.data("hash",d);break;case i.isEmpty():u.addClass("root"),h.addClass("root")}return p=function(e,n){var r,f,d,v;l=c?e:n,a=i+"/"+l.hyphenate().toLowerCase(),r=a.replace(/^\//,""),p=typeof e=="function"?e:function(){void 0},t.route.set(r,p),v=u.create("li").create("a",{"data-hash":l.hyphenate().toLowerCase(),"data-route":a}).html(l),v.on("click",function(e){this.hasClass("disabled")||(location.hash="!"+this.data("route"))},"route",v,"all").on("delete",function(e){t.route.del(r)});switch(!0){case o.test(typeof e):case e===null:h.create("section",{"class":"tab hidden","data-hash":r});break;case typeof e=="object":h.tabs(e,null,a,s),f=t('section[data-hash="'+r+'"]'),typeof f!="undefined"&&e.each(function(e,t){var n=typeof e=="object"?t:e;f.create("section",{"class":"tab hidden","data-hash":n.toLowerCase()})})}},n instanceof Array?n.each(p):t.iterate(n,p),e},i=function(e,n){if(e instanceof Element&&typeof n!="undefined")return n instanceof Array||(n=String(n).explode()),n.each(function(n){var r=!1,i,s;n=n.toLowerCase().replace(/^\/{1,1}/,""),n="/"+n,i=e.find('a[data-route="'+n+'"]')[0].parentNode,s=i.parentNode.find('section[data-hash="'+n+'"]')[0],i.destroy(),s.destroy(),t.route.hash()===n&&t.route.hash(t.route.initial)}),e;throw Error(t.label.error.invalidArguments)},s=function(s){var o={},u="tabs",a="unTabs",f,l;return t=e[s.aliased],f=function(e,t,n,i){return r(this,e,t,n,i)},l=function(e){return i(this,e)},s.on("hash",function(e){n(e)},"tabs",s,"all"),t.property(Element.prototype,u,{value:f}),typeof HTMLDocument!="undefined"&&t.property(HTMLDocument.prototype,u,{value:f}),t.property(Element.prototype,a,{value:l}),typeof HTMLDocument!="undefined"&&t.property(HTMLDocument.prototype,a,{value:l}),o={active:n,create:r,destroy:i},s.module("tabs",o)};typeof define=="function"?define(["abaaso"],function(e){return s(e)}):abaaso.on("init",function(){s(abaaso)},"abaaso.tabs")})(this);